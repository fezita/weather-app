<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100&display=swap" rel="stylesheet">  
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title>Weather App</title>
  
<style>
    .container {
  max-width: 600px;
  margin: 30px auto;
}
.card {
  color: #a684e2;
  font-family: "Noto Sans JP", sans-serif;
  background-image: linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%);
  border: none;
  border-radius: 4px;
}

.card-body {
  padding: 20px;
}

.form-city {
  color: #a684e2;
}

.submit-button {
  color: #a684e2;
  border: #a684e2;
}
.mainCity {
  font-size: 40px;
  text-align: center;
}

.description {
  font-size: 15px;
  text-align: center;
}

.displayTemp {
  text-align: center;
  font-size: 60px;
}

.temp {
  margin: 0, auto;
  text-align: center;
}

.units {
  color: #a684e2;
  font-size: 15px;
  position: relative;
  top: -32px;
  text-decoration: none;
}

.emoticon {
  text-align: center;
  font-size: 50px;
}

.update {
  font-size: 15px;
  font-weight: bold;
  margin: 0;
  padding: 0;
}

.infoUpdate {
  font-size: 15px;
  margin-bottom: 60px;
}

.moreInfos {
  margin: 0;
  padding: 0;
  font-size: 15px;
  list-style-type: none;
}

.card-title {
  font-size: 14px;
  text-align: center;
}

.card-text {
  margin-top: 10px;
  text-align: center;
  font-size: 16px;
  font-weight: bold;
}

.header {
  font-size: 12px;
  margin-top: 30px;
  text-align: center;
}

</style>
</head>
    <body>
      <div class="container"> 
         <div class="card"> 
           <div class="card-body"> 
   
   
       
         <form>
           <div class="row"> 
               <div class="col-6">
                  <input
                  type="search"
                  placeholder="Type a city.."
                  autofocus="on"
                  autocomplete="off"
                  id="city-input"
                  class="form-control shadow-sm"
                />
          
             </div>
               <div class="col-3"> 
                  <input
                  type="submit"
                  value="Search"
                  class="form-control btn btn-primary shadow-sm w-100"
                />
            </div>
            <div class="col-3"> 
                <button
                class="btn btn-success w-100"
                id="current-location-button"
              >
                Current
              </button>
           </div>
         </form>   
  
     </div>
   
     
   
     <div class="row">
       <div class="col-8"> 
     
     <div class="card"> 
       <div class="card-body"> 
         <div class="first"> 
     <h1 class="mainCity" id="mainCity">
     </h1>
     <h1 class="description" id="description">
     </h1>
     <div class="displayTemp"> 
     <span clas="temp" id="currently-temp"></span>
     <a href="#" class="units" id="unit-celsius"> ¬∞C |</a>
     <a href="#" class="units" id="unit-fahrenheit">¬∞F </a>
    </div>
     <div class="emoticon">
       üå•
     </div>
   </div>
       </div>
   </div>   
   
   </div>
   
   <div class="col-4"> 
   
   <div class="card"> 
     <div class="card-body"> 
   <h1 class="update">
     Last Update:
   </h1>
   <p  class="infoUpdate" id="day-time"> 
     Thursday 15:38
   </p>
   <ul class="moreInfos"> 
   <li> 
     Preciptation: 10%
   </li>
   <li> 
     Humidity: <span id= "humidity"></span>%
   </li>
   <li> 
     Wind: <span id= "wind"></span> km/h
   </li>
   </ul>
   </div>
   </div>   
   </div>
   
    </div>
   
   
     <div class="card-group">
       <div class="card">
         <div class="card-body">
           <div class="last"> 
           <h5 class="card-title">
           FRIDAY
           </br> </br> 
           üå®
         </h5>
       </br>
           <p class="card-text"> <strong>2¬∞ / 10¬∞ </strong>
           </p>
           
         </div>
         </div>
       </div>
   
       <div class="card">
         <div class="card-body">
           <h5 class="card-title">
           SATURDAY
           </br> </br>
           ‚òÄÔ∏è 
         </h5>
       </br>
           <p class="card-text"> <strong>3¬∞/ 9¬∞ </strong>
           </p>
           
         </div>
       </div>
   
       <div class="card">
         <div class="card-body">
           <h5 class="card-title">
           SUNDAY
           </br> </br>
           üå§
         </h5>
       </br>
           <p class="card-text"> <strong>-1¬∞ / -6¬∞</strong>
           </p>
           
         </div>
       </div>
   
   
       <div class="card">
         <div class="card-body">
           <h5 class="card-title">
           MONDAY
           </br> </br>
           ‚ùÑÔ∏è
         </h5>
       </br>
           <p class="card-text"> <strong>10¬∞ / -4¬∞</strong>
           </p>
           
         </div>
       </div>
   
       <div class="card">
         <div class="card-body">
           <h5 class="card-title">
           TUESDAY
           </br> </br>
           ‚õà
         </h5>
       </br>
           <p class="card-text"> <strong>3¬∞ / 7¬∞ </strong>
           </p>
       
         </div>
       </div>
   
    </div>
   </div>
   
   <p class="header">
     Open source by <a href="https://www.linkedin.com/in/fernanda-schmitt-b4a3b733/" target="blank"> 
       Fernanda Schmitt
      </a>
   </p>
   
   
       </div>
     </div>
   </div>
   <script>
    let now = new Date();

    let p = document.querySelector("#day-time");

    let days = [
  "Sunday",
  "Monday",
  "Tuesday",
  "Wednesday",
  "Thursday",
  "Friday",
  "Saturday"
];
    let day = days[now.getDay()];

    let hours = now.getHours();
    let minutes = now.getMinutes();
    if (minutes < 10) {
     minutes = `0 ${now.getMinutes()}`;
    }

    p.innerHTML = `${day} ${hours}:${minutes}`;


    function displayWeatherCondition(response) {
        console.log(response.data);
        document.querySelector("#mainCity").innerHTML = response.data.name;
        document.querySelector("#currently-temp").innerHTML = Math.round(response.data.main.temp);
        document.querySelector("#humidity").innerHTML = (response.data.main.humidity);
        document.querySelector("#wind").innerHTML = Math.round(response.data.wind.speed);
        document.querySelector("#description").innerHTML = response.data.weather[0].main;
    }

    function searchCity(city) {
        let apiKey = "a4f368f83069f68add8ec6eaccdc6185";
        let endPoint = `https://api.openweathermap.org/data/2.5/weather?`
        let units = `metric`
        let apiUrl = `${endPoint}q=${city}&appid=${apiKey}&units=${units}`;
        axios.get(apiUrl).then(displayWeatherCondition);


    }

    function handleSubmit(event) {    
        event.preventDefault();
        let city = document.querySelector("#city-input").value; 
        searchCity(city);
    
    }

    let form = document.querySelector("form");
    form.addEventListener("submit", handleSubmit);

    function searchLocation(position) {
        let apiKey = "a4f368f83069f68add8ec6eaccdc6185";
        let endPoint = `https://api.openweathermap.org/data/2.5/weather?`;
        let units = `metric`
        let lat = position.coords.latitude;
        let lon = position.coords.longitude;
        let apiUrl = `lat=${lat}&lon=${lon}&appid=${apiKey}&units=${units}`; 
        axios.get(apiUrl).then(displayWeatherCondition);


    }

    function getCurrentLocation(event) {
        event.preventDefault();
        navigator.geolocation.getCurrentPosition(searchLocation);
    }

    let currentLocationButton = document.querySelector("#current-location-button"); 
    currentLocationButton.addEventListener("click", getCurrentLocation); 

    

    searchCity("Porto Alegre");
            




 
    

    






   </script>
    </body>

